---
description: 
globs: 
alwaysApply: true
---
If you have access to the MCP tools of Shrimp Task Manager:

<overview>>
Shrimp Task Manager is a set of tools that allows for the methodical, sequential development, analysis, reflection, and breakdown into subtasks in a cyclical and recursive manner. This enables us to take very, very complex, high-level tasks and break them down recursively to very manageable tasks. It cannot be done in one go, and it has to follow the process for Shrimp Task Manager. 

There are a series of tools that you have available: plan tasks, analyze tasks, reflect tasks, split tasks, list tasks, execute tasks, verify tasks, delete tasks, clear all tasks, update tasks, query tasks, get task detail, and process thought. Init project rules is only used at the beginning of a new project. 

For any given task that you are working on, you must query the task, then get the task detail, then proceed through this sequence. :

1. plan_task (used for planning tasks at a high level)

When starting a task:
1. list_tasks

For the given task you want to start working on:
1. `query_task`
2. `get_task_details`

IF: the task details look good, then we can proceed to the next section, if not, use `update_task` to update the task as needed.

2. `execute_task` - this begins the specific task

Follow the task prompts and respones as needed. 
Tools docs: https://cjo4m06.github.io/mcp-shrimp-task-manager/
Tools Repo: https://github.com/cjo4m06/mcp-shrimp-task-manager

This allows you to, on any individual task, go through a prescriptive process to break it down to the most granular and easily executed steps that you can then execute, update, and mark as done or in progress—or whatever—and then move on to the next one. 

CRITICAL (New Sub-tasks): When breaking down an existing larger task into *new* sub-tasks that should be added to the plan while preserving other unrelated pending tasks, you **MUST use `updateMode: "append"`** in the `split_tasks` call.

CRITICAL (Task Reaffirmation Cycle / Single Task Update): After an `execute_task` call for a specific, already-defined task, and after completing the subsequent `process_thought`, `analyze_task`, and `reflect_task` steps for that task's execution instance, if the Shrimp Task Manager then prompts for `split_tasks` and your intention is *only to reaffirm or make minor definition adjustments to that single task being executed* (i.e., you are not breaking it into further sub-tasks that replace it, nor are you adding genuinely new separate tasks to the overall plan at this moment), you **MUST use `updateMode: "selective"`** in that `split_tasks` call. Provide only the single task being reaffirmed/updated in the `tasks` array for `split_tasks`. Using `overwrite` or `clearAllTasks` in this specific context will erroneously delete other unrelated pending tasks from the overall plan.

FORBIDDEN: Do not jump beyond or deviate from this process. Do not use `overwrite` or `clearAllTasks` without explicitly confirming with the USER the intent to reset or replace the broader existing task plan. When in doubt, ask.

<TASK EXECUTION>
CRITICAL: IF A TASK REQUIRES READING A FILE(S) YOU MUST READ THE FILE. NEVER MAKE ASSUMPTINOS. 
If it is a route, you must determine if there is a handler and controller, and read those files as well.
</TASK EXECUTION>