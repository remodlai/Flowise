# Fragment for POST /api/v1/agentflowv2-generator/generate
"/agentflowv2-generator/generate":
  post:
    summary: "INTERNAL: Generate AgentFlow V2 Config"
    description: |
      INTERNAL: Generates a Remodl Core AgentFlow V2 graph structure (nodes and edges) 
      based on a user's natural language question/request and a selected chat model configuration.
      It utilizes available Agent Flow nodes, tools, and marketplace templates to construct the flow.
    operationId: "internalAgentflowv2GeneratorGenerate"
    tags: ["AgentFlowV2-Generator", "InternalAPI"]
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/AgentflowV2RequestBody"
    responses:
      '200':
        description: "AgentFlow V2 configuration generated successfully, or a parsing error object if validation failed."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AgentflowV2Response"
      '400':
        description: "Bad Request (e.g., missing `question` or `selectedChatModel` in request body)."
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '500':
        description: "Internal Server Error during generation."
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
    security:
      - ApiKeyAuth: []
