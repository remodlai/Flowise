"/assistants/":
  post:
    summary: "INTERNAL: Create Assistant"
    description: |
      INTERNAL: Creates a new Remodl Core Assistant. 
      If not type CUSTOM, interacts with OpenAI Assistants API.
      The `details` field is a JSON string of the assistant's configuration.
    operationId: "internalAssistantsCreate"
    tags: ["Assistants", "InternalAPI"]
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/AssistantCreateRequest"
    responses:
      '200':
        description: "Assistant created/updated successfully. Returns the Remodl Core Assistant entity."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Assistant"
      '400':
        description: "Bad Request / Precondition Failed (e.g., missing body or details)."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ErrorResponse"
      '404':
        description: "Credential not found."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ErrorResponse"
      '500':
        description: "Internal Server Error (OpenAI API error, DB error, etc.)."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ErrorResponse"
    security:
      - InternalApiKeyAuth: []