"/feedback/":
  post:
    summary: "INTERNAL: Create or Update Chat Message Feedback"
    operationId: "internalFeedbackCreateOrUpdate" # Renamed for clarity
    tags: ["Feedback", "InternalAPI"]
    requestBody:
      required: true
      content:
        application/json:
          schema:
            # $ref: "#/components/schemas/FeedbackRequest" # To be defined
            type: object
            required: [chatflowid, chatId, messageId, rating]
            properties:
              chatflowid: { type: string }
              chatId: { type: string }
              messageId: { type: string }
              rating: { type: string, enum: [THUMBS_UP, THUMBS_DOWN] }
              content: { type: string, nullable: true }
    responses:
      '200': # Or 201 if always new or if update returns the entity
        description: "Feedback created or updated."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ChatMessageFeedback" # To be defined
      # ... other error responses
