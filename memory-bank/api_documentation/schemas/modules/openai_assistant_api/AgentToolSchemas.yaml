# Filename: api_documentation/schemas/modules/openai_assistant_api/AgentToolSchemas.yaml
components:
  schemas:
    OpenAIFunction:
      type: object
      description: "Represents an OpenAI Function Definition for use with function calling."
      properties:
        name:
          type: string
          description: "The name of the function."
        description:
          type: string
          description: "A description of what the function does."
        parameters:
          type: object
          description: "The parameters the function accepts, described as a JSON Schema object."
          properties:
            type:
              type: string
              enum: [object]
              description: "The type of the parameters object."
            properties:
              type: object
              description: "The properties of the parameters object."
              additionalProperties: true
            required:
              type: array
              items:
                type: string
              description: "An array of required property names."
      required:
        - name
        - description
        - parameters

    ExecuteAgentToolRequest:
      type: object
      description: "Request body for executing an agent tool."
      properties:
        chatId:
          type: string
          description: "The ID of the chat session."
        toolName:
          type: string
          description: "The name of the tool to execute."
        inputArgs:
          type: object
          description: "The arguments to pass to the tool."
          additionalProperties: true
        apiMessageId:
          type: string
          description: "Optional ID for the API message."
      required:
        - chatId
        - toolName
        - inputArgs

    ExecuteAgentToolResponse:
      type: object
      description: "Response from executing an agent tool."
      properties:
        output:
          type: string
          description: "The output from the tool execution."
        sourceDocuments:
          type: array
          items:
            type: object
            additionalProperties: true
          description: "Source documents related to the tool execution."
        artifacts:
          type: array
          items:
            type: object
            additionalProperties: true
          description: "Artifacts produced by the tool execution."
      required:
        - output

    ErrorResponse:
      type: object
      description: "Error response object."
      properties:
        statusCode:
          type: integer
          description: "HTTP status code for the error."
          example: 404
        success:
          type: boolean
          description: "Always false for error responses."
          example: false
        message:
          type: string
          description: "Human-readable error message."
          example: "Error: Agent with tools not found in chatflow"
      required:
        - statusCode
        - success
        - message